# ~/.tmux.conf
# Configuración personalizada basada en tu estilo

# ================================
# CONFIGURACIÓN BÁSICA
# ================================

# Mantener prefix por defecto Ctrl-b
# unbind C-b
# set-option -g prefix C-a
# bind-key C-a send-prefix

# Soporte para 256 colores
set -g default-terminal "screen-256color"

# Habilitar mouse
set -g mouse on

# Numeración de ventanas y panes desde 1
set -g base-index 1
setw -g pane-base-index 1

# Renumerar ventanas automáticamente
set -g renumber-windows on

# Aumentar el history limit
set -g history-limit 10000

# Reducir delay de comandos
set -s escape-time 0

# ================================
# KEYBINDINGS PERSONALIZADOS
# ================================

# Recargar configuración
bind r source-file ~/.tmux.conf \; display "Configuración recargada!"

# Dividir ventanas con | y -
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"

# Navegar entre panes con Ctrl+flechas
bind -n C-Left select-pane -L
bind -n C-Right select-pane -R
bind -n C-Up select-pane -U
bind -n C-Down select-pane -D

# Redimensionar panes con Ctrl+Shift+flechas
bind -n C-S-Left resize-pane -L 5
bind -n C-S-Right resize-pane -R 5
bind -n C-S-Up resize-pane -U 5
bind -n C-S-Down resize-pane -D 5

# Navegar entre ventanas con Alt+flechas
bind -n M-Left previous-window
bind -n M-Right next-window

# Cambiar entre ventanas con Shift+flechas (alternativo)
bind -n S-Left previous-window
bind -n S-Right next-window

# ================================
# CONFIGURACIÓN DE COLORES Y TEMA
# ================================

# Colores del panel activo
set -g pane-active-border-style "fg=#00d7ff"
set -g pane-border-style "fg=#585858"

# ================================
# STATUS BAR SUPERIOR (información del servidor)
# ================================

# Configurar pane title para simular barra superior
set -g pane-border-status top
#set -g pane-border-format "#[bg=#005f87,fg=#ffffff,bold]#{host}#[bg=#00d7ff,fg=#000000,bold] #{session_name} #[default]#[align=right]#[bg=#00d7ff,fg=#000000]"
set -g pane-border-format "#[bg=#005f87,fg=#ffffff,bold,align=right]#{host}#[bg=#00d7ff,fg=#000000,bold] #{session_name} #[bg=#005f87]"

# ================================
# STATUS BAR INFERIOR (ventanas/tabs)
# ================================

# Status bar en la parte inferior
set -g status-position bottom
set -g status-justify left
set -g status-style "bg=#005f87,fg=#ffffff"

# Configuración de ventanas (alineadas a la izquierda)
set -g window-status-style "bg=#005f87,fg=#87d7ff"
set -g window-status-format " #I ▸ #[fg=#ffffff]#W "
set -g window-status-current-style "bg=#00d7ff,fg=#000000,bold"
set -g window-status-current-format " #I ▸ #[fg=#000000,bold]#W "
set -g window-status-separator ""

# Lado izquierdo para las ventanas
set -g status-left ""
set -g status-left-length 0

# Lado derecho con información del sistema
set -g status-right "#[fg=#ffffff]↑ 57d 4h 52m #[fg=#87d7ff]{ 0.3 0 N 0.3 } #[fg=#ffffff]%Y-%m-%d %H:%M #[fg=#87d7ff]◀ #{host} "
set -g status-right-length 80

# ================================
# CONFIGURACIONES ADICIONALES
# ================================

# Mantener sesiones al cerrar terminal
set -g destroy-unattached off

# ================================
# CONFIGURACIÓN DE COPY MODE
# ================================

# Usar vi keys en copy mode
setw -g mode-keys vi

# Copy mode keybindings
bind-key -T copy-mode-vi v send-keys -X begin-selection
bind-key -T copy-mode-vi y send-keys -X copy-selection-and-cancel

# ================================
# CONFIGURACIONES ADICIONALES
# ================================

# Activar notificaciones
setw -g monitor-activity on
set -g visual-activity on

# Formato de título de ventana
set -g automatic-rename on
set -g automatic-rename-format '#{b:pane_current_path}'

# Configuración para trabajar mejor con vim
set -g focus-events on

# Habilitar clipboard del sistema (para Windows Terminal)
set -s set-clipboard on


